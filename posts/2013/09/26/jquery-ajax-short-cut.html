<!DOCTYPE html>
<html>

  <head>
    <title>jQuery扫盲之Ajax常用方法</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="/common/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/blog.css">
  </head>

  <body>
    <div class="blog-masthead">
      <div class="container">
        <nav class="blog-nav"><a href="/" class="blog-nav-item active">主页</a><a href="/posts" class="blog-nav-item">文章</a><a href="/tags" class="blog-nav-item">标签</a><a href="/projects" class="blog-nav-item">项目</a><a href="/about" class="blog-nav-item">关于</a></nav>
      </div>
    </div>
    <div class="container">
      <div class="blog-header">
        <h1 class="blog-title">小麦的二三事</h1>
        <p class="lead blog-description">他大舅他二舅，都是他舅</p>
      </div>
      <div class="col-sm-8 blog-main">
        <div class="row">
          <div class="blog-post">
            <h2 class="blog-post-title">jQuery扫盲之Ajax常用方法</h2>
            <p class="blog-post-meta">写于2013年09月26日 关于<a href="/tags/JavaScript">JavaScript</a>,<a href="/tags/jQuery">jQuery</a></p>
            <p>由于<code>jQuery.ajax</code>参数配置太多，日常应该也用不到所有参数配置，所以jQuery声明了一些比较符合日常使用场景的方法，例如<code>jQuery.get</code>和<code>jQuery.post</code>等，让我们方便地发送Ajax请求。</p>
            <h3 id="jquery-get">jQuery.get</h3>
            <hr>
            <blockquote>
              <p>Load data from the server using a HTTP GET request.</p>
            </blockquote>
            <p>这个方法封装了使用GET方法发送Ajax请求，接受四个参数：</p>
            <ol>
              <li><code>url</code>，发送请求的URL。</li>
              <li><code>data</code>，可选，发送的数据。由于使用的是GET方法，所以数据默认是使用<code>jQuery.params</code>序列化之后的字符串。</li>
              <li><code>success</code>，可选，请求成功后的回调，跟<code>ajaxSetting</code>的一致。</li>
              <li><code>dataType</code>，可选，指定返回数据的数据类型。</li>
            </ol>
            <p>由于没有设置<code>ajaxSetting.error</code>，请求失败的时候只能通过Promise接口或者<code>jQuery.document.ajaxError</code>来处理错误。</p>
            <p>这个方法等同于：</p> <pre><code>$.ajax({
  url: url,
  data: data,
  success: success,
  dataType: dataType
});
</code></pre>
            <h3 id="jquery-getjson">jQuery.getJSON</h3>
            <hr>
            <blockquote>
              <p>Load JSON-encoded data from the server using a GET HTTP request.</p>
            </blockquote>
            <p>这个方法跟<code>jQuery.get</code>类似，只是返回的数据类型被固定为<code>json</code>而已。所以只接受前三个参数，<code>dataType</code>固定为<code>json</code>。</p>
            <p>这个方法等同于：</p> <pre><code>$.ajax({
  dataType: &quot;json&quot;,
  url: url,
  data: data,
  success: success
});
</code></pre>
            <h3 id="jquery-getscript">jQuery.getScript</h3>
            <hr>
            <blockquote>
              <p>Load a JavaScript file from the server using a GET HTTP request, then execute it.</p>
            </blockquote>
            <p>这个方法使用GET方法加载一个JavaScript脚本，并执行。只接受两个参数：</p>
            <ol>
              <li><code>url</code>，要加载的脚本URL。</li>
              <li><code>success</code>，可选，加载成功后调用的回调。回调接受三个参数：
                <ol>
                  <li><code>script</code>，执行脚本后的返回值。</li>
                  <li><code>textStatus</code>，请求状态的字符串值。</li>
                  <li><code>jqXHR</code>，请求的jqXHR对象。</li>
                </ol>
              </li>
            </ol>
            <p>这个方法加载的脚本是在全局作用域中（<code>window</code>）中执行的，要注意加载的脚本的可靠性，防止各种变量名冲突或者逻辑冲突等问题。</p>
            <p>这个方法等同于：</p> <pre><code>$.ajax({
  url: url,
  dataType: &quot;script&quot;,
  success: success
});
</code></pre>
            <h3 id="jquery-post">jQuery.post</h3>
            <hr>
            <blockquote>
              <p>Load data from the server using a HTTP POST request.</p>
            </blockquote>
            <p>与<code>jQuery.get</code>几乎一样，只有两个不同点：</p>
            <ol>
              <li><code>jQuery.post</code>使用POST方法发送请求。</li>
              <li><code>jQuery.post</code>中的数据是放在请求体里面，而不是放到URL查询串中。</li>
            </ol>
            <p>这个方法等同于：</p> <pre><code>$.ajax({
  type: &quot;POST&quot;,
  url: url,
  data: data,
  success: success,
  dataType: dataType
});
</code></pre>
            <h3 id="jquery-fn-load">jQuery.fn.load</h3>
            <hr>
            <blockquote>
              <p>Load data from the server and place the returned HTML into the matched element.</p>
            </blockquote>
            <p>这个是jQuery对象的实例方法。加载数据完成后，使用返回的HTML字符串去替换jQuery对象原来的innerHTML。这个方法接受三个参数：</p>
            <ol>
              <li><code>url</code>，发送请求 的URL。</li>
              <li><code>data</code>，可选，发送的数据。</li>
              <li><code>complete</code>，可选，请求完成时的回调函数。回调接受三个参数：
                <ol>
                  <li><code>responseText</code>，请求返回的字符串。</li>
                  <li><code>textStatus</code>，请求状态字符串。</li>
                  <li><code>XMLHttpRequest</code>，请求的xhr对象。</li>
                </ol>
              </li>
            </ol>
            <p>注意哦，如果jQuery对象的<code>length</code>为0，即找不到该选择器对应的对象，这个请求是不会发送的。</p>
            <p><code>complete</code>在返回的HTML字符串被替换后才触发。会触发jQuery对象的<code>length</code>这么多次。</p>
            <p>如果<code>data</code>是一个对象，则会使用POST发送请求，否则使用GET发送请求。</p>
            <p>我们还可以在<code>url</code>后面带上一个jQuery选择器，则只替换返回HTML字符串中选择器选中的DOM对象。例如：</p> <pre><code>$( &quot;#result&quot; ).load( &quot;ajax/test.html #container&quot; );
</code></pre>
            <p>但是，加上选择器之后，返回的HTML中的<code>script</code>就不会被执行了哦！</p>
            <nav class="pager">
              <li><a href="/posts/2013/09/25/jquery-ajax-setup-ajax-transport.html" title="jQuery扫盲之ajaxSetup和ajaxTransport">上一篇</a></li>
              <li><a href="/posts/2013/09/27/css-display-inline-block.html" title="消除display: inline-block引起的元素之间的缝隙">下一篇</a></li>
            </nav>
          </div>
        </div>
      </div>
      <div class="col-sm-3 col-sm-offset-1 blog-sidebar">
        <div class="sidebar-module">
          <h4>文章</h4>
          <ol class="list-unstyled">
            <li><a href="/posts/2014/02">2014年02月</a></li>
            <li><a href="/posts/2014/01">2014年01月</a></li>
            <li><a href="/posts/2013/12">2013年12月</a></li>
            <li><a href="/posts/2013/11">2013年11月</a></li>
            <li><a href="/posts/2013/10">2013年10月</a></li>
            <li><a href="/posts/2013/09">2013年09月</a></li>
            <li><a href="/posts/2013/08">2013年08月</a></li>
            <li><a href="/posts/2013/07">2013年07月</a></li>
            <li><a href="/posts/2013/01">2013年01月</a></li>
            <li><a href="/posts/2012/12">2012年12月</a></li>
          </ol>
        </div>
        <div class="sidebar-module">
          <h4>标签</h4>
          <ol class="list-unstyled">
            <li><a href="/tags/notes">notes(5)</a></li>
            <li><a href="/tags/css">css(23)</a></li>
            <li><a href="/tags/html">html(10)</a></li>
            <li><a href="/tags/JavaScript">JavaScript(106)</a></li>
            <li><a href="/tags/前端">前端(9)</a></li>
            <li><a href="/tags/jQuery">jQuery(29)</a></li>
            <li><a href="/tags/http">http(4)</a></li>
            <li><a href="/tags/node">node(3)</a></li>
            <li><a href="/tags/html5">html5(7)</a></li>
            <li><a href="/tags/Flash">Flash(30)</a></li>
          </ol>
        </div>
      </div>
    </div>
    <div class="container"></div>
    <footer class="blog-footer">
      <p>Powerby MaiZhiying</p>
    </footer>
  </body>

</html>
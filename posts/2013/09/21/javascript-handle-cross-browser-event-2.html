<!DOCTYPE html>
<html>

  <head>
    <title>Secrets of the JavaScript Ninja 读书笔记之 跨浏览器处理事件（二）</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="/common/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/blog.css">
  </head>

  <body>
    <div class="blog-masthead">
      <div class="container">
        <nav class="blog-nav"><a href="/" class="blog-nav-item active">主页</a><a href="/posts" class="blog-nav-item">文章</a><a href="/tags" class="blog-nav-item">标签</a><a href="/projects" class="blog-nav-item">项目</a><a href="/about" class="blog-nav-item">关于</a></nav>
      </div>
    </div>
    <div class="container">
      <div class="blog-header">
        <h1 class="blog-title">小麦的二三事</h1>
        <p class="lead blog-description">他大舅他二舅，都是他舅</p>
      </div>
      <div class="col-sm-8 blog-main">
        <div class="row">
          <div class="blog-post">
            <h2 class="blog-post-title">Secrets of the JavaScript Ninja 读书笔记之 跨浏览器处理事件（二）</h2>
            <p class="blog-post-meta">写于2013年09月21日 关于<a href="/tags/JavaScript">JavaScript</a></p>
            <p>虽然使用昨天讨论的东西，已经能写出一个能跨浏览器实现绑定、解绑定事件的接口，但是还有一些小的细节，例如由于使用了一个匿名函数内部调用<code>apply</code>去改变事件处理函数的<code>this</code>，导致需要返回这个匿名函数才能解绑对应的事件处理程序；而且也没有传入处理后的事件对象作为事件处理程序的参数等。</p>
            <p>书中介绍了jQuery绑定事件的一些方式，比起昨天介绍的相关接口的实现要有想法得多。</p>
            <h3 id="-">管理事件处理程序</h3>
            <hr>
            <p>jQuery不直接把用户传入的函数绑定成事件处理函数，而是把这些函数存储在一个对象中，用一个键值跟DOM关联起来。这种做法可以避免低版本的IE由于循环引用而引发的内存泄漏，而且使用统一的存储可以让我们能在事件触发的过程中实现更灵活的控制，例如阻止冒泡、阻止默认行为、阻止本DOM上的其他事件处理程序执行等。</p>
            <h3 id="-">触发事件</h3>
            <hr>
            <p>之前讨论过使用<code>document.createEvent</code>和<code>elem.dispatchEvent</code>来模拟DOM事件，通过代码模拟用户与浏览器的交互行为。而使用jQuery绑定的事件，则不需要使用这些API去手动触发事件。根据事件的类型，可以获取到对应DOM对象上关于这个事件的所有事件处理程序，直接执行它们即可。</p>
            <p>但是还是要注意一个地方，就是还要递归地去寻找父元素，在父元素上触发对应的事件。</p>
            <p>通过jQuery实现的事件机制，我们可以为绑定一个自定义的事件（即不是浏览器的标准事件）。自定义事件可以实现观察者模式，在拆分模块的时候可以通过触发事件、监听时间来解藕这些模块，提高可重用性和可维护性。</p>
            <nav class="pager">
              <li><a href="/posts/2013/09/20/javascript-handle-cross-browser-event-1.html" title="Secrets of the JavaScript Ninja 读书笔记之 跨浏览器处理事件（一）">上一篇</a></li>
              <li><a href="/posts/2013/09/22/use-grunt-to-build.html" title="使用Grunt去构建">下一篇</a></li>
            </nav>
          </div>
        </div>
      </div>
      <div class="col-sm-3 col-sm-offset-1 blog-sidebar">
        <div class="sidebar-module">
          <h4>文章</h4>
          <ol class="list-unstyled">
            <li><a href="/posts/2014/02">2014年02月</a></li>
            <li><a href="/posts/2014/01">2014年01月</a></li>
            <li><a href="/posts/2013/12">2013年12月</a></li>
            <li><a href="/posts/2013/11">2013年11月</a></li>
            <li><a href="/posts/2013/10">2013年10月</a></li>
            <li><a href="/posts/2013/09">2013年09月</a></li>
            <li><a href="/posts/2013/08">2013年08月</a></li>
            <li><a href="/posts/2013/07">2013年07月</a></li>
            <li><a href="/posts/2013/01">2013年01月</a></li>
            <li><a href="/posts/2012/12">2012年12月</a></li>
          </ol>
        </div>
        <div class="sidebar-module">
          <h4>标签</h4>
          <ol class="list-unstyled">
            <li><a href="/tags/notes">notes(5)</a></li>
            <li><a href="/tags/css">css(23)</a></li>
            <li><a href="/tags/html">html(10)</a></li>
            <li><a href="/tags/JavaScript">JavaScript(106)</a></li>
            <li><a href="/tags/前端">前端(9)</a></li>
            <li><a href="/tags/jQuery">jQuery(29)</a></li>
            <li><a href="/tags/http">http(4)</a></li>
            <li><a href="/tags/node">node(3)</a></li>
            <li><a href="/tags/html5">html5(7)</a></li>
            <li><a href="/tags/Flash">Flash(30)</a></li>
          </ol>
        </div>
      </div>
    </div>
    <div class="container"></div>
    <footer class="blog-footer">
      <p>Powerby MaiZhiying</p>
    </footer>
  </body>

</html>
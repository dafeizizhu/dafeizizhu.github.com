{"year":"2013","month":"12","day":"12","filePath":"/home/dafeizizhu/workspace/github/dafeizizhu/dafeizizhu.github.com/site/posts/2013/12/12/flash-security-restricting-networking-apis.html","fileName":"flash-security-restricting-networking-apis","layout":"post","title":"Flash安全性之限制网络API","description":"","tags":["Flash"],"markdownText":"\n\n\n可以使用两种方式限制网络API。这些限制不能通过代码覆盖。\n\n### 阻止的端口\n\nFlash Player和Adobe AIR对某些端口的HTTP访问设有限制。通常用于非HTTP类型服务器的某些标准端口上不允许使用HTTP请求。\n\n适用于端口阻止的API包括：\n\n1. `FileReference`的`download`、`upload`方法。\n2. `Loader`的`load`、`loadBytes`方法。\n3. `navigateToURL`方法。\n4. `NetConnection`的`call`、`connect`方法。\n5. `NetStream`的`play`方法。\n6. `Security.loadPolicyFile`。\n7. `sendToURL`。\n8. `Sound`、`URLLoader`和`URLStream`的`load`方法。\n\n端口阻止也适用于文本字段中有关`url`的字段，例如`img`、`object`或者`embed`等。\n\n### 使用allowNetworking参数\n\n可以在`object`或者`embed`标签中设置`allowNetworking`参数来控制`swf`文件访问网络功能。它可以有以下的取值：\n\n1. `all`，允许`swf`文件访问所有网络的API。\n2. `internal`，不可调用浏览器导航或者浏览器交互的API，如`navigateToURL`等。\n3. `none`，除了浏览器交互的API，也不能使用任何`swf`到`swf`通信的API，如`Loader.load`等。\n\n调用被禁止的API会触发`SecurityError`。这个参数的使用示例如下：\n\n    <object>\n      <param name=\"allowNetworking\" value=\"none\" />\n    </object>\n\n或者：\n\n    <embed allowNetworking=\"none\" />\n\n如果该参数的值为`none`，除了API被禁用，当`TextField`对象的`htmlText`属性包含`img`等涉及URL的参数的标签时，也是无法引用到外部资源的哦。\n","htmlText":"<p>可以使用两种方式限制网络API。这些限制不能通过代码覆盖。</p>\n<h3 id=\"-\">阻止的端口</h3>\n<p>Flash Player和Adobe AIR对某些端口的HTTP访问设有限制。通常用于非HTTP类型服务器的某些标准端口上不允许使用HTTP请求。</p>\n<p>适用于端口阻止的API包括：</p>\n<ol>\n<li><code>FileReference</code>的<code>download</code>、<code>upload</code>方法。</li>\n<li><code>Loader</code>的<code>load</code>、<code>loadBytes</code>方法。</li>\n<li><code>navigateToURL</code>方法。</li>\n<li><code>NetConnection</code>的<code>call</code>、<code>connect</code>方法。</li>\n<li><code>NetStream</code>的<code>play</code>方法。</li>\n<li><code>Security.loadPolicyFile</code>。</li>\n<li><code>sendToURL</code>。</li>\n<li><code>Sound</code>、<code>URLLoader</code>和<code>URLStream</code>的<code>load</code>方法。</li>\n</ol>\n<p>端口阻止也适用于文本字段中有关<code>url</code>的字段，例如<code>img</code>、<code>object</code>或者<code>embed</code>等。</p>\n<h3 id=\"-allownetworking-\">使用allowNetworking参数</h3>\n<p>可以在<code>object</code>或者<code>embed</code>标签中设置<code>allowNetworking</code>参数来控制<code>swf</code>文件访问网络功能。它可以有以下的取值：</p>\n<ol>\n<li><code>all</code>，允许<code>swf</code>文件访问所有网络的API。</li>\n<li><code>internal</code>，不可调用浏览器导航或者浏览器交互的API，如<code>navigateToURL</code>等。</li>\n<li><code>none</code>，除了浏览器交互的API，也不能使用任何<code>swf</code>到<code>swf</code>通信的API，如<code>Loader.load</code>等。</li>\n</ol>\n<p>调用被禁止的API会触发<code>SecurityError</code>。这个参数的使用示例如下：</p>\n<pre><code>&lt;object&gt;\n  &lt;param name=&quot;allowNetworking&quot; value=&quot;none&quot; /&gt;\n&lt;/object&gt;\n</code></pre><p>或者：</p>\n<pre><code>&lt;embed allowNetworking=&quot;none&quot; /&gt;\n</code></pre><p>如果该参数的值为<code>none</code>，除了API被禁用，当<code>TextField</code>对象的<code>htmlText</code>属性包含<code>img</code>等涉及URL的参数的标签时，也是无法引用到外部资源的哦。</p>\n","summaryMarkdownText":"\n\n\n可以使用两种方式限制网络API。这些限制不能通过代码覆盖。\n\n### 阻止的端口\n\nFlash Player和Adobe AIR对某些端口的HTTP访问设有限制。通常用于非HTTP类型服务器的某些标准端口上不允许使用HTTP请求。\n\n适用于端口阻止的API包括：\n\n1. `FileReference`的`download`、`upload`方法。\n2. `Loader`的`load`、`loadBytes`方法。\n3. `navigateToURL`方法。\n4. `NetConnection`的`call`、`connect`方法。\n5. `NetStream`的`play`方法。\n6. `Security.loadPolicyFile`。\n7. `sendToURL`。\n8. `Sound`、`URLLoader`和`URLStream`的`load`方法。\n\n端口阻止也适用于文本字段中有关`url`的字段，例如`img`、`object`或者`embed`等。\n\n### 使用allowNetworking参数\n\n可以在`object`或者`embed`标签中设置`allowNetworking`参数来控制`swf`文件访问网络功能。它可以有以下的取值：","summaryHtmlText":"<p>可以使用两种方式限制网络API。这些限制不能通过代码覆盖。</p>\n<h3 id=\"-\">阻止的端口</h3>\n<p>Flash Player和Adobe AIR对某些端口的HTTP访问设有限制。通常用于非HTTP类型服务器的某些标准端口上不允许使用HTTP请求。</p>\n<p>适用于端口阻止的API包括：</p>\n<ol>\n<li><code>FileReference</code>的<code>download</code>、<code>upload</code>方法。</li>\n<li><code>Loader</code>的<code>load</code>、<code>loadBytes</code>方法。</li>\n<li><code>navigateToURL</code>方法。</li>\n<li><code>NetConnection</code>的<code>call</code>、<code>connect</code>方法。</li>\n<li><code>NetStream</code>的<code>play</code>方法。</li>\n<li><code>Security.loadPolicyFile</code>。</li>\n<li><code>sendToURL</code>。</li>\n<li><code>Sound</code>、<code>URLLoader</code>和<code>URLStream</code>的<code>load</code>方法。</li>\n</ol>\n<p>端口阻止也适用于文本字段中有关<code>url</code>的字段，例如<code>img</code>、<code>object</code>或者<code>embed</code>等。</p>\n<h3 id=\"-allownetworking-\">使用allowNetworking参数</h3>\n<p>可以在<code>object</code>或者<code>embed</code>标签中设置<code>allowNetworking</code>参数来控制<code>swf</code>文件访问网络功能。它可以有以下的取值：</p>\n"}
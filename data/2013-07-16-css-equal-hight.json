{"year":"2013","month":"07","day":"16","filePath":"/home/dafeizizhu/workspace/github/dafeizizhu/dafeizizhu.github.com/site/posts/2013/07/16/css-equal-hight.html","fileName":"css-equal-hight","layout":"post","title":"CSS等高布局","description":"","tags":["css"],"markdownText":"\n\n\n今天本来想写express的，不过还没看清楚它的文档，以免误人子弟，先放一下。今天来写一个以前遗留的问题，CSS三列布局如何等高。\n\n接着上次写的“经典三列布局之如何让中间的列先显示出来“的代码，[参考这里](http://jsfiddle.net/zBXbp/7/)：\n\nHTML：\n\n    <div id=\"container\">\n        <div id=\"middle\">This is middle!</div>\n        <div id=\"left\">This is left!</div>\n        <div id=\"right\">This is right!</div>\n    </div>\n\nCSS：\n\n    #left { width: 100px; background: red;}\n    #right { width: 100px; background: blue;}\n    #middle { width: 100%; background: green;}\n\n    #container { \n        position: relative;\n        padding: 0 100px;\n        overflow: hidden;\n        margin: 0 auto;\n    }\n\n    #middle {\n        float: left;\n    }\n\n    #left {\n        position: relative;\n        left: -100px;\n        float: left;\n        margin-left: -100%;   \n    }\n\n    #right {\n        float: left;\n        margin-right: -100%;\n    }\n\n从效果看来，虽然左右固定像素、中间自适应的布局是实现了，但是可以看到，三列的高也“自适应”了，非常难看。怎么能这三列等高显示呢？\n\n首先，绝对的等高，出了用JavaScript之外，用HTML、CSS实现是不行的。所以这个只能看上去“等高”。我们的目的就是让这三列的背景色等高。参考了一些网上的资料，最简单的方法是加入以下一条样式：\n\n    #left, #middle, #right {\n        margin-bottom: -10000px;\n        padding-bottom: 10000px;\n    } \n\n原理看似简单又不简单，最好的解释可以参考这里：\n\n> 首先把列的padding-bottom设为一个足够大的值，再把列的margin-bottom设一个与前面的padding-bottom的正值相抵消的负值，父容器设置超出隐藏，这样子父容器的高度就还是它里面的列没有设定padding-bottom时的高度，当它里面的任一列高度增加了，则父容器的高度被撑到它里面最高那列的高度，其他比这列矮的列则会用它们的padding-bottom来补偿这部分高度差。因为背景是可以用在padding占用的空间里的，而且边框也是跟随padding变化的，所以就成功的完成了一个障眼法。\n\n效果[参考这里](http://jsfiddle.net/3depS/1/)。\n\n这个方案也有缺点，当需要用`border`显示边框的时候，边框是不能自适应的。只能通过背景的层叠模拟边框的效果。能否不通过JavaScript解决，留一个遗留问题。\n","htmlText":"<p>今天本来想写express的，不过还没看清楚它的文档，以免误人子弟，先放一下。今天来写一个以前遗留的问题，CSS三列布局如何等高。</p>\n<p>接着上次写的“经典三列布局之如何让中间的列先显示出来“的代码，<a href=\"http://jsfiddle.net/zBXbp/7/\">参考这里</a>：</p>\n<p>HTML：</p>\n<pre><code>&lt;div id=&quot;container&quot;&gt;\n    &lt;div id=&quot;middle&quot;&gt;This is middle!&lt;/div&gt;\n    &lt;div id=&quot;left&quot;&gt;This is left!&lt;/div&gt;\n    &lt;div id=&quot;right&quot;&gt;This is right!&lt;/div&gt;\n&lt;/div&gt;\n</code></pre><p>CSS：</p>\n<pre><code>#left { width: 100px; background: red;}\n#right { width: 100px; background: blue;}\n#middle { width: 100%; background: green;}\n\n#container { \n    position: relative;\n    padding: 0 100px;\n    overflow: hidden;\n    margin: 0 auto;\n}\n\n#middle {\n    float: left;\n}\n\n#left {\n    position: relative;\n    left: -100px;\n    float: left;\n    margin-left: -100%;   \n}\n\n#right {\n    float: left;\n    margin-right: -100%;\n}\n</code></pre><p>从效果看来，虽然左右固定像素、中间自适应的布局是实现了，但是可以看到，三列的高也“自适应”了，非常难看。怎么能这三列等高显示呢？</p>\n<p>首先，绝对的等高，出了用JavaScript之外，用HTML、CSS实现是不行的。所以这个只能看上去“等高”。我们的目的就是让这三列的背景色等高。参考了一些网上的资料，最简单的方法是加入以下一条样式：</p>\n<pre><code>#left, #middle, #right {\n    margin-bottom: -10000px;\n    padding-bottom: 10000px;\n} \n</code></pre><p>原理看似简单又不简单，最好的解释可以参考这里：</p>\n<blockquote>\n<p>首先把列的padding-bottom设为一个足够大的值，再把列的margin-bottom设一个与前面的padding-bottom的正值相抵消的负值，父容器设置超出隐藏，这样子父容器的高度就还是它里面的列没有设定padding-bottom时的高度，当它里面的任一列高度增加了，则父容器的高度被撑到它里面最高那列的高度，其他比这列矮的列则会用它们的padding-bottom来补偿这部分高度差。因为背景是可以用在padding占用的空间里的，而且边框也是跟随padding变化的，所以就成功的完成了一个障眼法。</p>\n</blockquote>\n<p>效果<a href=\"http://jsfiddle.net/3depS/1/\">参考这里</a>。</p>\n<p>这个方案也有缺点，当需要用<code>border</code>显示边框的时候，边框是不能自适应的。只能通过背景的层叠模拟边框的效果。能否不通过JavaScript解决，留一个遗留问题。</p>\n","summaryMarkdownText":"\n\n\n今天本来想写express的，不过还没看清楚它的文档，以免误人子弟，先放一下。今天来写一个以前遗留的问题，CSS三列布局如何等高。\n\n接着上次写的“经典三列布局之如何让中间的列先显示出来“的代码，[参考这里](http://jsfiddle.net/zBXbp/7/)：\n\nHTML：\n\n    <div id=\"container\">\n        <div id=\"middle\">This is middle!</div>\n        <div id=\"left\">This is left!</div>\n        <div id=\"right\">This is right!</div>\n    </div>\n\nCSS：\n\n    #left { width: 100px; background: red;}\n    #right { width: 100px; background: blue;}\n    #middle { width: 100%; background: green;}\n\n    #container { \n        position: relative;\n        padding: 0 100px;\n        overflow: hidden;","summaryHtmlText":"<p>今天本来想写express的，不过还没看清楚它的文档，以免误人子弟，先放一下。今天来写一个以前遗留的问题，CSS三列布局如何等高。</p>\n<p>接着上次写的“经典三列布局之如何让中间的列先显示出来“的代码，<a href=\"http://jsfiddle.net/zBXbp/7/\">参考这里</a>：</p>\n<p>HTML：</p>\n<pre><code>&lt;div id=&quot;container&quot;&gt;\n    &lt;div id=&quot;middle&quot;&gt;This is middle!&lt;/div&gt;\n    &lt;div id=&quot;left&quot;&gt;This is left!&lt;/div&gt;\n    &lt;div id=&quot;right&quot;&gt;This is right!&lt;/div&gt;\n&lt;/div&gt;\n</code></pre><p>CSS：</p>\n<pre><code>#left { width: 100px; background: red;}\n#right { width: 100px; background: blue;}\n#middle { width: 100%; background: green;}\n\n#container { \n    position: relative;\n    padding: 0 100px;\n    overflow: hidden;\n</code></pre>"}